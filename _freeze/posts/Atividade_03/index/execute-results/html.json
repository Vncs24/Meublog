{
  "hash": "a1f585381b55a472813d41fe856b1e5b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Visualizando Regressão Linear com Python\"\nauthor: \"Vinícius Fernandes\"\ndate: \"2025-11-23\"\ncategories: [python, code, Plotnine]\nimage: \"png-transparent-bar-chart-business-graph-business-growth-graph-infographic-vol-icon.png\"\njupyter: python3\n---\n\nNeste post, apresentamos uma análise visual de uma relação entre duas variáveis usando Python.\nO código lê os valores de X e Y de arquivos de texto, realiza uma regressão linear para encontrar a melhor linha que representa a tendência dos dados e gera um gráfico que mostra claramente os pontos e a linha de ajuste.\nEssa visualização é útil para identificar padrões, tendências ou correlações entre duas variáveis, de forma rápida e objetiva.\n\n**Explicação breve do código**\nO código realiza três etapas principais:\n\nLeitura dos dados: os arquivos `X.txt` e `y.txt` são lidos linha a linha, convertendo os valores para números float.\nCálculo da regressão linear: a função `np.polyfit` encontra os coeficientes `a` e `b` da equação da reta `y = a + b*x` que melhor ajusta os pontos.\nGeração do gráfico: usando `plotnine`, os pontos são plotados (`geom_point`) e a linha de regressão (`geom_abline`) é adicionada ao gráfico. Por fim, o gráfico é salvo em PNG para publicação.\n\nImportação das bibliotecas\n\n::: {#fb71f853 .cell context='session' execution_count=1}\n``` {.python .cell-code}\nfrom plotnine import ggplot, aes, geom_point, geom_abline\nimport pandas as pd\nimport numpy as np\nfrom IPython.display import Image\n```\n:::\n\n\nLeitura dos dados\n\n::: {#b790c16b .cell context='session' execution_count=2}\n``` {.python .cell-code}\nwith open(\"X.txt\") as f:\n    valores_x = [float(line.strip()) for line in f]\n\nwith open(\"y.txt\") as f:\n    valores_y = [float(line.strip()) for line in f]\n```\n:::\n\n\nCriar o DataFrame\n\n::: {#44162b74 .cell context='session' execution_count=3}\n``` {.python .cell-code}\ndf = pd.DataFrame({\"x\": valores_x, \"y\": valores_y})\n```\n:::\n\n\nCálculo da regressão linear\n\n::: {#3996dc40 .cell context='session' execution_count=4}\n``` {.python .cell-code}\nb, a = np.polyfit(df['x'], df['y'], 1)\n```\n:::\n\n\nCriar o gráfico\n\n::: {#e63e6416 .cell context='session' execution_count=5}\n``` {.python .cell-code}\nplot = (\n    ggplot(df, aes(\"x\", \"y\"))\n    + geom_point()\n    + geom_abline(intercept=a, slope=b)\n)\n```\n:::\n\n\nSalvar e exibir o gráfico\n\n::: {#89f979cb .cell context='session' execution_count=6}\n``` {.python .cell-code}\nplot.save(\"grafico.png\", dpi=300, width=6, height=4)\nImage(\"grafico.png\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:623: PlotnineWarning: Saving 6 x 4 in image.\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:624: PlotnineWarning: Filename: grafico.png\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=6}\n![](index_files/figure-html/cell-7-output-2.png){}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}