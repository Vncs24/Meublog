[
  {
    "objectID": "posts/Atividade_03/index.html",
    "href": "posts/Atividade_03/index.html",
    "title": "Visualizando Regressão Linear com Python",
    "section": "",
    "text": "Neste post, apresentamos uma análise visual de uma relação entre duas variáveis usando Python. O código lê os valores de X e Y de arquivos de texto, realiza uma regressão linear para encontrar a melhor linha que representa a tendência dos dados e gera um gráfico que mostra claramente os pontos e a linha de ajuste. Essa visualização é útil para identificar padrões, tendências ou correlações entre duas variáveis, de forma rápida e objetiva.\nExplicação breve do código O código realiza três etapas principais:\nLeitura dos dados: os arquivos X.txt e y.txt são lidos linha a linha, convertendo os valores para números float. Cálculo da regressão linear: a função np.polyfit encontra os coeficientes a e b da equação da reta y = a + b*x que melhor ajusta os pontos. Geração do gráfico: usando plotnine, os pontos são plotados (geom_point) e a linha de regressão (geom_abline) é adicionada ao gráfico. Por fim, o gráfico é salvo em PNG para publicação.\nImportação das bibliotecas\n\nfrom plotnine import ggplot, aes, geom_point, geom_abline\nimport pandas as pd\nimport numpy as np\nfrom IPython.display import Image\n\nLeitura dos dados\n\nwith open(\"X.txt\") as f:\n    valores_x = [float(line.strip()) for line in f]\n\nwith open(\"y.txt\") as f:\n    valores_y = [float(line.strip()) for line in f]\n\nCriar o DataFrame\n\ndf = pd.DataFrame({\"x\": valores_x, \"y\": valores_y})\n\nCálculo da regressão linear\n\nb, a = np.polyfit(df['x'], df['y'], 1)\n\nCriar o gráfico\n\nplot = (\n    ggplot(df, aes(\"x\", \"y\"))\n    + geom_point()\n    + geom_abline(intercept=a, slope=b)\n)\n\nSalvar e exibir o gráfico\n\nplot.save(\"grafico.png\", dpi=300, width=6, height=4)\nImage(\"grafico.png\")\n\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:623: PlotnineWarning: Saving 6 x 4 in image.\n/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:624: PlotnineWarning: Filename: grafico.png"
  },
  {
    "objectID": "posts/Atividade_01/index.html",
    "href": "posts/Atividade_01/index.html",
    "title": "Cotação do dolar",
    "section": "",
    "text": "Neste post, exploramos a variação da cotação do dólar em um determinado mês, utilizando dados oficiais do Banco Central do Brasil. Para isso, foi desenvolvido um código em Python que consulta a API do Banco Central, organiza os dados em um DataFrame e gera um gráfico de linha mostrando a evolução diária da cotação. O código utiliza a biblioteca pandas para manipulação dos dados e plotly.express para a criação de gráficos interativos, permitindo visualizar picos, tendências e flutuações da moeda de forma clara. Ao final, o gráfico é salvo em um arquivo HTML, que pode ser incorporado diretamente em um blog ou visualizado no navegador. Esta abordagem combina análise de dados, visualização interativa e automação, facilitando a compreensão do comportamento do dólar ao longo do tempo.\n\nimport requests\nimport pandas as pd\nimport plotly.express as px\nimport calendar\nfrom datetime import datetime\n\ndef f(mmyyyy):\n    first_date = datetime.strptime(mmyyyy, \"%m%Y\")\n    last_date = first_date.replace(day=calendar.monthrange(first_date.year, first_date.month)[1])\n\n    data_inicial = first_date.strftime(\"%m-%d-%Y\")\n    data_final = last_date.strftime(\"%m-%d-%Y\")\n\n    url = (\n        \"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/\"\n        f\"CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)\"\n        f\"?@dataInicial='{data_inicial}'&@dataFinalCotacao='{data_final}'\"\n        \"&$format=json\"\n    )\n\n    r = requests.get(url)\n    data = r.json()[\"value\"]\n\n    df = pd.DataFrame(data)\n    df[\"dataHoraCotacao\"] = pd.to_datetime(df[\"dataHoraCotacao\"])\n    df.sort_values(\"dataHoraCotacao\", inplace=True)\n\n    df[\"cotacao\"] = df[\"cotacaoCompra\"].fillna(df[\"cotacaoVenda\"])\n\n    fig = px.line(df, x=\"dataHoraCotacao\", y=\"cotacao\",\n                  title=f\"Cotação do Dólar - {mmyyyy}\")\n    \n    fig.write_html(\"grafico.html\")\n    fig.show()\n\n    return df\n\nif __name__ == \"__main__\":\n    f(\"112015\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Meublog",
    "section": "",
    "text": "Cotação do dolar\n\n\n\npython\n\ncode\n\ndolar\n\n\n\n\n\n\n\n\n\nNov 23, 2025\n\n\nVinícius Fernandes\n\n\n\n\n\n\n\n\n\n\n\n\nMapa linha SPTrans\n\n\n\npython\n\ncode\n\nsptrans\n\n\n\n\n\n\n\n\n\nNov 23, 2025\n\n\nVinícius Fernandes\n\n\n\n\n\n\n\n\n\n\n\n\nVisualizando Regressão Linear com Python\n\n\n\npython\n\ncode\n\nPlotnine\n\n\n\n\n\n\n\n\n\nNov 23, 2025\n\n\nVinícius Fernandes\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/Atividade_02/index.html",
    "href": "posts/Atividade_02/index.html",
    "title": "Mapa linha SPTrans",
    "section": "",
    "text": "Neste post, mostramos como é possível visualizar, em tempo real, a posição de ônibus de uma linha específica em São Paulo. Utilizando dados da API do sistema Olho Vivo da SPTrans, o código coleta informações sobre as paradas e veículos ativos e gera um mapa interativo, permitindo acompanhar a circulação da linha de forma clara e visual. Esta visualização é útil para entender a distribuição de paradas, identificar veículos em movimento e explorar os dados de transporte público de forma dinâmica.\nExplicação breve do código\nO código em Python realiza três funções principais: autenticação, consulta de dados e geração do mapa.\nAutenticação: usa um token fornecido pela SPTrans para acessar a API. Consulta de dados: recupera o código da linha de ônibus, todas as paradas e a posição dos veículos em tempo real. Geração do mapa: utiliza a biblioteca folium para criar um mapa interativo, colocando marcadores azuis para as paradas e vermelhos para os veículos. Por fim, o mapa é salvo em um arquivo HTML, que pode ser incorporado em blogs ou visualizado diretamente no navegador.\n\nimport requests\nimport folium\n\nTOKEN = \"2692e179ba171bd5ae0a43849d0692b2d578551930c3ae3d78bc097101349160\"\nBASE = \"http://api.olhovivo.sptrans.com.br/v2.1\"\nsession = requests.Session()\n\ndef autenticar():\n    url = f\"{BASE}/Login/Autenticar\"\n    r = session.post(url, params={\"token\": TOKEN})\n    return r.text.lower() == \"true\"\n\ndef get_codigo_linha(linha, sentido=None):\n    url = f\"{BASE}/Linha/Buscar\"\n    r = session.get(url, params={\"termosBusca\": linha})\n    data = r.json()\n    if not data:\n        return None\n    if sentido is None:\n        return data[0].get(\"cl\")\n    for item in data:\n        if item.get(\"sl\") == sentido:\n            return item.get(\"cl\")\n    return data[0].get(\"cl\")\n\ndef get_paradas(codigo):\n    url = f\"{BASE}/Parada/BuscarParadasPorLinha\"\n    r = session.get(url, params={\"codigoLinha\": codigo})\n    return r.json() if r.ok else []\n\ndef get_veiculos(codigo):\n    url = f\"{BASE}/Posicao/Linha\"\n    r = session.get(url, params={\"codigoLinha\": codigo})\n    data = r.json()\n    return data.get(\"vs\", []) if data else []\n\ndef gerar_mapa(linha):\n    if not autenticar():\n        print(\"Falha na autenticação. Verifique seu token.\")\n        return\n\n    codigo1 = get_codigo_linha(linha, sentido=1)\n    codigo2 = get_codigo_linha(linha, sentido=2)\n\n    paradas = []\n    if codigo1:\n        paradas += get_paradas(codigo1)\n    if codigo2:\n        paradas += get_paradas(codigo2)\n\n    veiculos = []\n    if codigo1:\n        veiculos += get_veiculos(codigo1)\n    if codigo2:\n        veiculos += get_veiculos(codigo2)\n\n    if paradas:\n        lat0, lon0 = float(paradas[0][\"py\"]), float(paradas[0][\"px\"])\n    elif veiculos:\n        lat0, lon0 = float(veiculos[0][\"py\"]), float(veiculos[0][\"px\"])\n    else:\n        lat0, lon0 = -23.55, -46.63\n        print(\"Nenhuma parada ou veículo encontrado. Mapa centralizado em São Paulo.\")\n\n    mapa = folium.Map(location=[lat0, lon0], zoom_start=13)\n\n    if paradas:\n        for p in paradas:\n            try:\n                lat, lon = float(p[\"py\"]), float(p[\"px\"])\n                folium.Marker(location=[lat, lon], popup=p.get(\"np\",\"\"), icon=folium.Icon(color=\"blue\", icon=\"bus\")).add_to(mapa)\n            except:\n                continue\n    else:\n        print(\"Nenhuma parada encontrada para esta linha.\")\n\n    if veiculos:\n        for v in veiculos:\n            try:\n                lat, lon = float(v[\"py\"]), float(v[\"px\"])\n                folium.Marker(location=[lat, lon], popup=v.get(\"p\",\"\"), icon=folium.Icon(color=\"red\", icon=\"car\")).add_to(mapa)\n            except:\n                continue\n    else:\n        print(\"Nenhum veículo ativo encontrado para esta linha.\")\n\n    pontos = [(float(p[\"py\"]), float(p[\"px\"])) for p in paradas if p.get(\"py\") and p.get(\"px\")]\n    if pontos:\n        mapa.fit_bounds(mapa.get_bounds())\n    else:\n        mapa.fit_bounds([[-23.55, -46.63], [-23.55, -46.63]])\n\n    arquivo = f\"mapa_linha_{linha}.html\"\n    mapa.save(arquivo)\n\n\nif __name__ == \"__main__\":\n    gerar_mapa(\"701A-10\")"
  }
]